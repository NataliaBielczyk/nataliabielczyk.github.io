<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta http-equiv="content-language" content="en" />
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
	<link rel="preconnect" href="https://fonts.googleapis.com">
	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link href="https://fonts.googleapis.com/css2?family=Poppins&display=swap" rel="stylesheet">
	<link rel="stylesheet" type="text/css" href="app/css/main.css">
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
	<!--<script src="https://kit.fontawesome.com/f082d7e5bc.js" crossorigin="anonymous"></script>-->
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
	<title>Airdrop NFT</title>
</head>
<body>
	<style type="text/css">
		body{
			background-color: #006c66;
			font-family: 'Poppins';
			line-height: 1.5; letter-spacing: 1.2px;
		}
		.main{
			height: 95vh;
		}
		.toast{
			position: fixed;
			bottom: 15px;
			left: 15px;
		}
	</style>
	<div class="container main">
        <div class="row align-items-center h-100">
            <div class="col-lg-7 col-sm-10 mx-auto">
                <div class="panel panel-default border p-3" style="box-shadow: 2px 3px 5px 3px #555;">

                	<h3 class="text-white text-center">Interested in purchasing any of our domains?</h3>
					<hr>
                	<div class="row">
	                	<div class="col-lg-4 col-xl-4 col-md-4 col-sm-12 form-check text-white text-center">
						    <input type="checkbox" class="form-check-input domain-name" id="airdropnft" value="airdropnft">
						    <label class="form-check-label" for="airdropnft">airdropnft.io</label>
					  	</div>
					  	<div class="col-lg-4 col-xl-4 col-md-4 col-sm-12 form-check text-white text-center">
						    <input type="checkbox" class="form-check-input domain-name" id="hottestnft" value="hottestnft">
						    <label class="form-check-label" for="hottestnft">hottestnft.io</label>
					  	</div>
					  	<div class="col-lg-4 col-xl-4 col-md-4 col-sm-12 form-check text-white text-center">
						    <input type="checkbox" class="form-check-input domain-name" id="godsofmetaverse" value="godsofmetaverse">
						    <label class="form-check-label" for="godsofmetaverse">godsofmetaverse.io</label>
					  	</div>
					</div>

					<hr>

                	<p class="text-white">Please submit your offer below:</p>
					
					<form id="offerForm">
						<div class="input-group mb-3">
						  <div class="input-group-prepend">
						    <span class="input-group-text" id="basic-addon1">Your Offer ($)</span>
						  </div>
						  <input type="number" id="offer" class="form-control">
						</div>

						<div class="input-group mb-3">
						  <div class="input-group-prepend">
						    <span class="input-group-text" id="basic-addon1">Your Email</span>
						  </div>
						  <input type="text" id="email" class="form-control">
						</div>

						<button class="btn btn-success" id="submit">Submit</button>
					</form>

					<hr>

					<p class="text-white text-center"><small>*We will respond within 5 business days.</small></p>

				</div>
			</div>
		</div>
	</div>
	<div class="container-fluid" style="background-image: url(https://ontologyofvalue.com/wp-content/uploads/2022/03/Screenshot-2022-03-05-at-12.01.15.png); background-position: center; background-size: cover; height: 100vh;">
        <div class="row align-items-center h-100">
        	<div class="panel panel-default border p-3 mx-auto" style="background-color: rgba(0, 108, 102, 0.7); width: 97%;">
	        	<br>
	        	<h3 class="text-white text-center">ABOUT OUR MISSION</h3>
	        	<hr>
				<p class="text-white p-2">
					We are raising funds for launching our own career center in the Netherlands. The profits from sale will be fully dedicated to this purpose. By buying one of our domains, you contribute to this goal.
					Please read more about our mission <a href="https://ontologyofvalue.com/mission-and-vision/" target="_blank" class="btn btn-primary">here</a>
				</p>
	        	<br>
			</div>
        </div>
	</div>

	<div class="toast notification-toast" role="alert" aria-live="polite" aria-atomic="true" data-delay="20000">
	  <div class="toast-header">
	    <strong class="mr-auto">Notification</strong>
	    	<button type="button" class="ml-2 mb-1 close" data-dismiss="toast" aria-label="Close">
	        	<span aria-hidden="true">&times;</span>
	      	</button>
	  </div>
	  <div class="toast-body">
	    <div class="notification_message"></div>
	  </div>
	</div>

	<script type="text/javascript">
		
		function show_notification(msg) {
			$('.notification_message').html('');
			$('.notification_message').html(msg);
		  	$('.toast').toast('show');
		}

		function validateEmail($email) {
		  var emailReg = /^([\w-\.]+@([\w-]+\.)+[\w-]{2,6})?$/;
		  	return emailReg.test( $email );
		}

		$(window).on('load', function() {
			$('#submit').on('click', function(){

				const submitBtn = $("#submit");
				const offer = $("#offer").val();
				const email = $("#email").val();
				const domains = [];


				//--Get selected domains
				$(".domain-name").each(function(){
					if ($(this).is(':checked')) {
						domains.push($(this).val());
					}
			  	});

				//--If no domain is selected
				if (domains.length == 0) {
					show_notification('<small class="text-danger">Please select one or more domains.</small>');
					$(".domain-name").focus();
					return false;
				}

				if (offer < 1) {
					show_notification('<small class="text-danger">Enter a valid offer amount.</small>');
					$("#offer").focus();
					return false;
				}


				if (email.length < 5) {
					show_notification('<small class="text-danger">Enter a valid email address.</small>');
					$("#email").focus();
					return false;
				}


				if ( !validateEmail(email) ) {
					show_notification('<small class="text-danger">Invalid email address entered.</small>');
					$("#email").focus();
					return false;
				}


				else{

					var formData = new FormData();    
				    formData.append( 'key', '#%gdf2.GT12{]|' );
				    formData.append( 'offer', $("#offer").val() );
				    formData.append( 'domains', domains );
				    formData.append( 'email', $("#email").val() );

				    submitBtn.prop('disabled', true); 
				    $.ajax({
			           url : 'https://api.ontologyofvalue.com/airdropnft.io/index.php',
			           type : 'POST',
			           data : formData,
			           processData: false,
			           contentType: false,
			            success: function (data) {
			                show_notification(data);
			                $('#offerForm').trigger("reset");
			              },
						error: function(XMLHttpRequest, textStatus, errorThrown) {
							if (XMLHttpRequest.readyState === 0) { show_notification( 'Check your network connection and try again!' ); }
							else { show_notification( 'Something went wrong. Try again!' ); }
						},
			            complete: setTimeout( function(){ submitBtn.prop('disabled', false); }, 50)
			        });

				  	return false;
				}

			});
		});
	</script>
</body>
</html>
